
:root{
  --bg:#0f1214; --fg:#e8e8e5; --fg-2:#d2d2cf; --muted:#9aa1a6;
  --card:#121619; --line:#283036; --accent:#66b3ff; --btn:#1b2126; --btn-border:#2a343b; --danger:#a64545;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,"Noto Sans",Roboto,"Segoe UI",sans-serif;font-size:18px;line-height:1.6;}
header{background:#0d1113;border-bottom:1px solid var(--line);backdrop-filter:saturate(120%) blur(6px)}
h1{margin:0;padding:12px;text-align:center;font-size:20px}
.tabs{display:flex;border-top:1px solid var(--line)}
.tab{flex:1;background:#0d1113;color:var(--muted);border:none;padding:10px;font-size:16px}
.tab.active{color:var(--fg);border-bottom:2px solid var(--accent)}
main{display:flex;min-height:calc(100vh - 90px)}
.view{display:none;flex:1;overflow:auto;padding:12px}
.view.active{display:block}
.toolbar{display:flex;gap:8px;margin-bottom:10px}
input#q{flex:1;border:1px solid var(--btn-border);background:#0f1519;color:var(--fg);border-radius:12px;padding:10px 12px;font-size:16px;outline:none}
.btn{background:var(--btn);color:var(--fg);border:1px solid var(--btn-border);border-radius:12px;padding:9px 12px;font-size:16px}
.btn:disabled{opacity:.6}
.btn-danger{background:var(--danger);border-color:#7a2f2f}
.list{display:flex;flex-direction:column;gap:10px}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px;box-shadow:0 6px 16px rgba(0,0,0,.25)}
.card h3{margin:2px 0 6px;font-size:18px;cursor:pointer}
.meta{color:var(--muted);font-size:12px;margin-bottom:6px}
.content{color:var(--fg-2);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.actions{display:flex;gap:8px;margin-top:8px}
.composer{display:flex;flex-direction:column;gap:10px}
textarea{width:100%;height:140px;border:1px solid var(--btn-border);border-radius:12px;background:#0f1519;color:var(--fg);font-size:16px;padding:10px}

/* Modal */
.modal[hidden]{display:none}
.modal-backdrop{position:fixed;inset:0;background:rgba(5,7,9,.55)}
.modal-panel{
  position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
  width:min(720px,94vw);max-height:90vh;overflow:auto;
  background:#101518;border:1px solid var(--line);border-radius:14px;padding:14px;
  box-shadow:0 14px 34px rgba(0,0,0,.5);
  touch-action: pan-y; /* 僅允許垂直滾動，避免水平位移抖動 */
  will-change: transform;
}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.modal-header h2{margin:0;font-size:20px}
.modal-close{background:var(--btn);color:var(--fg);border:1px solid var(--btn-border);border-radius:10px;padding:6px 10px;font-size:16px}
.modal-meta{color:var(--muted);font-size:12px;margin-bottom:8px}
.modal-content{word-wrap:break-word}
.images{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
.images img{width:100%;height:auto;border-radius:10px;border:1px solid var(--btn-border)}
.images img:active{transform:scale(.98)}

/* 全螢幕看圖 */
#imgFull[hidden]{display:none}
#imgFull{position:fixed;inset:0;background:rgba(8,10,12,.96);display:flex;align-items:center;justify-content:center}
#imgFull img{max-width:96vw;max-height:92vh;border-radius:10px}
